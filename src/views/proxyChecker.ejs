<!DOCTYPE html>
<html lang="en" data-theme="dark">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Proxy Checker</title>
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body class="bg-body text-text-primary font-sans text-lg">
        <!-- Navbar -->
        <%- include('partials/navbar', { currentPage: 'Proxy Checker' }) %>

        <!-- Main Container -->
        <div class="flex min-h-screen flex-col">
            <!-- Fixed Top Controls -->
            <div class="bg-surface border-border z-40 border-b select-none">
                <div class="mx-auto max-w-7xl px-4 py-3">
                    <!-- Top Controls Area -->
                    <div class="bg-wrapper rounded-lg p-4 pb-2">
                        <div class="flex flex-col gap-3 md:flex-row md:gap-4">
                            <!-- Left Side - Proxy Input -->
                            <div class="w-full lg:w-1/2">
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between">
                                        <label class="text-text-secondary flex items-center text-sm font-medium">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                                class="mr-2 h-6 w-6 flex-shrink-0 fill-current md:h-7 md:w-7">
                                                <path fill-rule="evenodd" clip-rule="evenodd"
                                                    d="M22 18.2105C22 17.8399 21.6876 17.5395 21.3023 17.5395H13.7252C13.5364 17.0909 13.164 16.7327 12.6977 16.5511V13.7368H18.5116C20.0529 13.7368 21.3023 12.5351 21.3023 11.0526C21.3023 9.57018 20.0529 8.36842 18.5116 8.36842C20.0529 8.36842 21.3023 7.16666 21.3023 5.68421C21.3023 4.20176 20.0529 3 18.5116 3H5.48837C3.94711 3 2.69767 4.20176 2.69767 5.68421C2.69767 7.16666 3.94711 8.36842 5.48837 8.36842C3.94711 8.36842 2.69767 9.57018 2.69767 11.0526C2.69767 12.5351 3.94711 13.7368 5.48837 13.7368H11.3023V16.5511C10.836 16.7327 10.4636 17.0909 10.2748 17.5395H2.69767C2.31236 17.5395 2 17.8399 2 18.2105C2 18.5811 2.31236 18.8816 2.69767 18.8816H10.2748C10.5508 19.5374 11.2192 20 12 20C12.7808 20 13.4492 19.5374 13.7252 18.8816H21.3023C21.6876 18.8816 22 18.5811 22 18.2105ZM12.2326 5.68421C12.2326 5.3136 12.5449 5.01316 12.9302 5.01316H18.5116C18.8969 5.01316 19.2093 5.3136 19.2093 5.68421C19.2093 6.05482 18.8969 6.35526 18.5116 6.35526H12.9302C12.5449 6.35526 12.2326 6.05482 12.2326 5.68421ZM12.2326 11.0526C12.2326 10.682 12.5449 10.3816 12.9302 10.3816H18.5116C18.8969 10.3816 19.2093 10.682 19.2093 11.0526C19.2093 11.4232 18.8969 11.7237 18.5116 11.7237H12.9302C12.5449 11.7237 12.2326 11.4232 12.2326 11.0526ZM6.4186 6.57895C6.93236 6.57895 7.34884 6.17836 7.34884 5.68421C7.34884 5.19006 6.93236 4.78947 6.4186 4.78947C5.90485 4.78947 5.48837 5.19006 5.48837 5.68421C5.48837 6.17836 5.90485 6.57895 6.4186 6.57895ZM6.4186 11.9474C6.93236 11.9474 7.34884 11.5468 7.34884 11.0526C7.34884 10.5585 6.93236 10.1579 6.4186 10.1579C5.90485 10.1579 5.48837 10.5585 5.48837 11.0526C5.48837 11.5468 5.90485 11.9474 6.4186 11.9474Z"/>
                                            </svg>
                                            Proxy List
                                            (ip:port:username:password)
                                        </label>
                                        <button id="deleteBtn"
                                            class="bg-bg-pause flex items-center justify-center rounded-lg px-3 py-1 text-sm font-medium hover:brightness-[var(--highlight-brightness)]">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                                class="mr-1 h-5 w-5 flex-shrink-0 fill-current" >
                                                <path d="M232.7 69.9L224 96L128 96C110.3 96 96 110.3 96 128C96 145.7 110.3 160 128 160L512 160C529.7 160 544 145.7 544 128C544 110.3 529.7 96 512 96L416 96L407.3 69.9C402.9 56.8 390.7 48 376.9 48L263.1 48C249.3 48 237.1 56.8 232.7 69.9zM512 208L128 208L149.1 531.1C150.7 556.4 171.7 576 197 576L443 576C468.3 576 489.3 556.4 490.9 531.1L512 208z"/>
                                            </svg>
                                            Delete
                                        </button>
                                    </div>
                                    <textarea id="proxyInput"
                                        placeholder="192.168.1.1:8080:user:pass&#10;user:pass@10.0.0.1:8080" rows="6"></textarea>
                                </div>
                            </div>

                            <!-- Right Side - Action Controls -->
                            <div class="mt:0 flex w-full flex-col justify-center gap-3 md:mt-8 md:gap-4 lg:w-1/2">
                                <!-- Top Row - Proxy Type and Check Button -->
                                <div class="mb-0 flex">
                                    <div class="flex-2/3">
                                        <label class="text-text-secondary mb-2 flex items-center font-medium">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                                class="mr-2 h-6 w-6 flex-shrink-0 fill-current md:h-7 md:w-7">
                                                <path d="M480 272C480 317.9 465.1 360.3 440 394.7L566.6 521.4C579.1 533.9 579.1 554.2 566.6 566.7C554.1 579.2 533.8 579.2 521.3 566.7L394.7 440C360.3 465.1 317.9 480 272 480C157.1 480 64 386.9 64 272C64 157.1 157.1 64 272 64C386.9 64 480 157.1 480 272zM272 416C351.5 416 416 351.5 416 272C416 192.5 351.5 128 272 128C192.5 128 128 192.5 128 272C128 351.5 192.5 416 272 416z"/>
                                            </svg>
                                            Check Proxies
                                        </label>
                                        <button id="checkProxiesBtn"
                                            class="bg-bg-getData flex w-full items-center justify-center rounded-l-lg px-4 py-2 font-bold hover:brightness-[var(--highlight-brightness)]">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                                class="mr-1 h-5 w-5 flex-shrink-0 fill-current md:mr-2 md:h-7 md:w-7">
                                                <path d="M187.2 100.9C174.8 94.1 159.8 94.4 147.6 101.6C135.4 108.8 128 121.9 128 136L128 504C128 518.1 135.5 531.2 147.6 538.4C159.7 545.6 174.8 545.9 187.2 539.1L523.2 355.1C536 348.1 544 334.6 544 320C544 305.4 536 291.9 523.2 284.9L187.2 100.9z"/>
                                            </svg>
                                            Check Now
                                        </button>
                                    </div>
                                    <div class="flex-1/3">
                                        <label class="text-text-secondary mb-2 flex items-center font-medium">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                                class="mr-2 h-6 w-6 flex-shrink-0 fill-current md:h-7 md:w-7">
                                                <path d="M96 128C83.1 128 71.4 135.8 66.4 147.8C61.4 159.8 64.2 173.5 73.4 182.6L256 365.3L256 480C256 488.5 259.4 496.6 265.4 502.6L329.4 566.6C338.6 575.8 352.3 578.5 364.3 573.5C376.3 568.5 384 556.9 384 544L384 365.3L566.6 182.7C575.8 173.5 578.5 159.8 573.5 147.8C568.5 135.8 556.9 128 544 128L96 128z"/>
                                            </svg>
                                            Proxy Type
                                        </label>
                                        <%- include('partials/dropDown', {
                                            dropdownId: 'proxyTypeSelect',
                                            dropdownOptions: ['AUTO DETECT', 'HTTPS', 'SOCKS5'],
                                            defaultOption: 'AUTO DETECT'
                                        }) %>
                                    </div>
                                </div>

                                <!-- Copy Buttons -->
                                <div class="flex">
                                    <button id="copyIpBtn"
                                        class="bg-bg-reinstall flex flex-1 items-center justify-center rounded-l-xl px-4 py-3 text-xs font-medium hover:brightness-[var(--highlight-brightness)] sm:text-lg">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                            class="mr-1 h-5 w-5 flex-shrink-0 fill-current md:mr-2 md:h-7 md:w-7">
                                            <path d="M288 64C252.7 64 224 92.7 224 128L224 384C224 419.3 252.7 448 288 448L480 448C515.3 448 544 419.3 544 384L544 183.4C544 166 536.9 149.3 524.3 137.2L466.6 81.8C454.7 70.4 438.8 64 422.3 64L288 64zM160 192C124.7 192 96 220.7 96 256L96 512C96 547.3 124.7 576 160 576L352 576C387.3 576 416 547.3 416 512L416 496L352 496L352 512L160 512L160 256L176 256L176 192L160 192z"/>
                                        </svg>
                                        Copy IPs
                                    </button>

                                    <button id="copyFullProxyBtn"
                                        class="bg-bg-changeNote flex flex-1 items-center justify-center rounded-r-xl px-4 py-3 text-xs font-medium hover:brightness-[var(--highlight-brightness)] sm:text-lg">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                            class="mr-1 h-5 w-5 flex-shrink-0 fill-current md:mr-2 md:h-7 md:w-7">
                                            <path d="M288 64C252.7 64 224 92.7 224 128L224 384C224 419.3 252.7 448 288 448L480 448C515.3 448 544 419.3 544 384L544 183.4C544 166 536.9 149.3 524.3 137.2L466.6 81.8C454.7 70.4 438.8 64 422.3 64L288 64zM160 192C124.7 192 96 220.7 96 256L96 512C96 547.3 124.7 576 160 576L352 576C387.3 576 416 547.3 416 512L416 496L352 496L352 512L160 512L160 256L176 256L176 192L160 192z"/>
                                        </svg>
                                        Copy Full Proxies
                                    </button>
                                </div>

                                <!-- Selection buttons-->
                                <div class="flex">
                                    <button id="selectActiveBtn"
                                        class="bg-bg-changeIp flex flex-1 items-center justify-center rounded-l-xl px-4 py-3 text-xs font-medium text-nowrap hover:brightness-[var(--highlight-brightness)] sm:text-lg">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                            class="mr-1 h-5 w-5 flex-shrink-0 fill-current md:mr-2 md:h-7 md:w-7">
                                            <path d="M320 576C178.6 576 64 461.4 64 320C64 178.6 178.6 64 320 64C461.4 64 576 178.6 576 320C576 461.4 461.4 576 320 576zM438 209.7C427.3 201.9 412.3 204.3 404.5 215L285.1 379.2L233 327.1C223.6 317.7 208.4 317.7 199.1 327.1C189.8 336.5 189.7 351.7 199.1 361L271.1 433C276.1 438 282.9 440.5 289.9 440C296.9 439.5 303.3 435.9 307.4 430.2L443.3 243.2C451.1 232.5 448.7 217.5 438 209.7z"/>
                                        </svg>
                                        Select Active Proxies
                                    </button>

                                    <button id="selectErrorBtn"
                                        class="bg-bg-pause flex flex-1 items-center justify-center rounded-r-xl px-4 py-3 text-xs font-medium text-nowrap hover:brightness-[var(--highlight-brightness)] sm:text-lg">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"
                                            class="mr-1 h-5 w-5 flex-shrink-0 fill-current md:mr-2 md:h-7 md:w-7">
                                            <path d="M320 576C461.4 576 576 461.4 576 320C576 178.6 461.4 64 320 64C178.6 64 64 178.6 64 320C64 461.4 178.6 576 320 576zM231 231C240.4 221.6 255.6 221.6 264.9 231L319.9 286L374.9 231C384.3 221.6 399.5 221.6 408.8 231C418.1 240.4 418.2 255.6 408.8 264.9L353.8 319.9L408.8 374.9C418.2 384.3 418.2 399.5 408.8 408.8C399.4 418.1 384.2 418.2 374.9 408.8L319.9 353.8L264.9 408.8C255.5 418.2 240.3 418.2 231 408.8C221.7 399.4 221.6 384.2 231 374.9L286 319.9L231 264.9C221.6 255.5 221.6 240.3 231 231z"/>
                                        </svg>
                                        Select Error Proxies
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Scrollable Table Area -->
            <%- include('partials/table', {
                tableTitle: 'Proxy Status',
                headers: ['ip', 'port', 'username', 'password', 'type', 'status'],
                emptyMessage: `
                    <svg id="proxy-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"
                        class="fill-text-muted mx-auto h-12 w-12 flex-shrink-0 md:h-16 md:w-16">
                        <path d="M28.3,24.2V16c0-0.5-0.4-0.8-0.8-0.8h-4.4c-0.3,0-0.5-0.2-0.5-0.5v-3c0-0.3,0.2-0.5,0.5-0.5h4.1 c0.5,0,0.8-0.4,0.8-0.8V2c0-0.5-0.4-0.8-0.8-0.8H4.8C4.4,1.2,4,1.6,4,2v8.3c0,0.5,0.4,0.8,0.8,0.8h4.1c0.3,0,0.5,0.2,0.5,0.5v3 c0,0.3-0.2,0.5-0.5,0.5H4.5c-0.5,0-0.8,0.4-0.8,0.8v8.2c0,0.3-0.2,0.5-0.5,0.5H0.8c-0.5,0-0.8,0.4-0.8,0.8v4.3 c0,0.5,0.4,0.8,0.8,0.8h7.3c0.5,0,0.8-0.4,0.8-0.8v-4.3c0-0.5-0.4-0.8-0.8-0.8H5.8c-0.3,0-0.5-0.2-0.5-0.5v-6.9 c0-0.3,0.2-0.5,0.5-0.5h4.4c0.5,0,0.8-0.4,0.8-0.8v-4.3c0-0.3,0.2-0.5,0.5-0.5h3.1c0.3,0,0.5,0.2,0.5,0.5v12.2 c0,0.5-0.4,0.8-0.8,0.8h-2c-0.5,0-0.8,0.4-0.8,0.8v4.3c0,0.5,0.4,0.8,0.8,0.8h7.3c0.5,0,0.8-0.4,0.8-0.8v-4.3 c0-0.5-0.4-0.8-0.8-0.8h-2c-0.5,0-0.8-0.4-0.8-0.8V11.7c0-0.3,0.2-0.5,0.5-0.5h3.1c0.3,0,0.5,0.2,0.5,0.5V16c0,0.5,0.4,0.8,0.8,0.8 h4.4c0.3,0,0.5,0.2,0.5,0.5v6.9c0,0.3-0.2,0.5-0.5,0.5h-2.4c-0.5,0-0.8,0.4-0.8,0.8v4.3c0,0.5,0.4,0.8,0.8,0.8h7.3 c0.5,0,0.8-0.4,0.8-0.8v-4.3c0-0.5-0.4-0.8-0.8-0.8h-2.4C28.5,24.7,28.3,24.5,28.3,24.2z M7.4,26.8v1.8c0,0.3-0.2,0.5-0.5,0.5H2.1 c-0.3,0-0.5-0.2-0.5-0.5v-1.8c0-0.3,0.2-0.5,0.5-0.5h4.8C7.2,26.3,7.4,26.6,7.4,26.8z M18.9,26.8v1.8c0,0.3-0.2,0.5-0.5,0.5h-4.8 c-0.3,0-0.5-0.2-0.5-0.5v-1.8c0-0.3,0.2-0.5,0.5-0.5h4.8C18.7,26.3,18.9,26.6,18.9,26.8z M5.6,9.1V3.3c0-0.3,0.2-0.5,0.5-0.5h19.8 c0.3,0,0.5,0.2,0.5,0.5v5.8c0,0.3-0.2,0.5-0.5,0.5H6.1C5.8,9.6,5.6,9.4,5.6,9.1z M29.9,29.1h-4.8c-0.3,0-0.5-0.2-0.5-0.5v-1.8 c0-0.3,0.2-0.5,0.5-0.5h4.8c0.3,0,0.5,0.2,0.5,0.5v1.8C30.4,28.9,30.2,29.1,29.9,29.1z"/>
                        <path d="M15.1,6.2c0,0.4-0.4,0.8-0.8,0.8H7.9C7.5,7,7.1,6.6,7.1,6.2s0.4-0.8,0.8-0.8h6.4C14.7,5.4,15.1,5.8,15.1,6.2z"/>
                        <circle cx="17.7" cy="6.2" r="0.8" />
                        <path d="M24.9,6.2c0,0.4-0.4,0.8-0.8,0.8s-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8S24.9,5.8,24.9,6.2z"/>
                        <path d="M21.7,6.2c0,0.4-0.4,0.8-0.8,0.8s-0.8-0.4-0.8-0.8s0.4-0.8,0.8-0.8S21.7,5.8,21.7,6.2z"/>
                    </svg>
                    <p class="text-text-muted text-base select-none md:text-xl">
                        No proxies to check <br />
                        Enter your proxies and click "Check Now"
                    </p>
                `,
            }) %>
            
            <%- include('partials/toaster') %>

            <%- include('partials/copyDialog') %>

            <%- include('partials/footer') %>
        </div>
        <script type="module" src="javascript/proxyChecker.js"></script>
    </body>
</html>
